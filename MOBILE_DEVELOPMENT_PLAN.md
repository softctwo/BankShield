# ğŸ“± BankShieldç§»åŠ¨ç«¯å¼€å‘æ–¹æ¡ˆ

**å¼€å‘æ—¥æœŸ**: 2026å¹´1æœˆ7æ—¥  
**æ–¹æ¡ˆç‰ˆæœ¬**: v1.0  
**å®ŒæˆçŠ¶æ€**: âœ… æ ¸å¿ƒæ–¹æ¡ˆå·²å®Œæˆ

---

## ğŸ“‹ æ–¹æ¡ˆæ¦‚è¿°

æœ¬æ–¹æ¡ˆæ—¨åœ¨ä¸ºBankShieldç³»ç»Ÿå¼€å‘ç§»åŠ¨ç«¯åº”ç”¨ï¼Œæ”¯æŒiOSå’ŒAndroidåŒå¹³å°ï¼Œæä¾›å®Œæ•´çš„æ•°æ®å®‰å…¨ç®¡ç†åŠŸèƒ½ã€‚é‡‡ç”¨è·¨å¹³å°å¼€å‘æŠ€æœ¯ï¼Œå®ç°ä¸€å¥—ä»£ç å¤šç«¯è¿è¡Œï¼Œé™ä½å¼€å‘å’Œç»´æŠ¤æˆæœ¬ã€‚

### æ ¸å¿ƒç›®æ ‡

**åŠŸèƒ½ç›®æ ‡**:
- ğŸ“Š **æ•°æ®èµ„äº§ç®¡ç†** - ç§»åŠ¨ç«¯æŸ¥çœ‹å’Œç®¡ç†æ•°æ®èµ„äº§
- ğŸ” **å®‰å…¨å®¡è®¡** - å®æ—¶æŸ¥çœ‹å®¡è®¡æ—¥å¿—å’Œå®‰å…¨äº‹ä»¶
- ğŸš¨ **å‘Šè­¦é€šçŸ¥** - å®æ—¶æ¥æ”¶å’Œå¤„ç†å®‰å…¨å‘Šè­¦
- ğŸ“ˆ **æ•°æ®å¯è§†åŒ–** - ç§»åŠ¨ç«¯æ•°æ®ç»Ÿè®¡å’Œå›¾è¡¨å±•ç¤º
- ğŸ” **å¿«é€Ÿæœç´¢** - ä¾¿æ·çš„æ•°æ®æŸ¥è¯¢å’Œæœç´¢

**æŠ€æœ¯ç›®æ ‡**:
- ğŸ¯ **è·¨å¹³å°** - ä¸€å¥—ä»£ç æ”¯æŒiOSå’ŒAndroid
- âš¡ **é«˜æ€§èƒ½** - æµç•…çš„ç”¨æˆ·ä½“éªŒ
- ğŸ”’ **é«˜å®‰å…¨** - å®Œå–„çš„å®‰å…¨æœºåˆ¶
- ğŸ“´ **ç¦»çº¿æ”¯æŒ** - å…³é”®åŠŸèƒ½ç¦»çº¿å¯ç”¨
- ğŸ”„ **å®æ—¶åŒæ­¥** - æ•°æ®å®æ—¶åŒæ­¥

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆé€‰æ‹©

#### æ–¹æ¡ˆå¯¹æ¯”

| æŠ€æœ¯æ–¹æ¡ˆ | ä¼˜åŠ¿ | åŠ£åŠ¿ | æ¨èåº¦ |
|---------|------|------|--------|
| **React Native** | ç”Ÿæ€æˆç†Ÿã€æ€§èƒ½å¥½ã€ç¤¾åŒºæ´»è·ƒ | éœ€è¦åŸç”Ÿæ¡¥æ¥ | â­â­â­â­â­ |
| **Flutter** | æ€§èƒ½ä¼˜ç§€ã€UIç¾è§‚ã€çƒ­é‡è½½ | Dartè¯­è¨€å­¦ä¹ æˆæœ¬ | â­â­â­â­â­ |
| **Uni-app** | å¤šç«¯æ”¯æŒã€Vueè¯­æ³•ã€å¿«é€Ÿå¼€å‘ | æ€§èƒ½ç•¥é€Šã€ç”Ÿæ€è¾ƒå° | â­â­â­â­ |
| **åŸç”Ÿå¼€å‘** | æ€§èƒ½æœ€ä¼˜ã€åŠŸèƒ½å®Œæ•´ | å¼€å‘æˆæœ¬é«˜ã€ç»´æŠ¤å›°éš¾ | â­â­â­ |

#### æ¨èæ–¹æ¡ˆï¼š**Flutter**

**é€‰æ‹©ç†ç”±**:
1. **é«˜æ€§èƒ½** - ç›´æ¥ç¼–è¯‘ä¸ºåŸç”Ÿä»£ç ï¼Œæ€§èƒ½æ¥è¿‘åŸç”Ÿ
2. **ç¾è§‚UI** - Material Designå’ŒCupertinoé£æ ¼
3. **çƒ­é‡è½½** - å¼€å‘æ•ˆç‡é«˜
4. **è·¨å¹³å°** - ä¸€å¥—ä»£ç æ”¯æŒiOSã€Androidã€Web
5. **æˆç†Ÿç”Ÿæ€** - ä¸°å¯Œçš„ç¬¬ä¸‰æ–¹åº“

---

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Mobile Application                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  Presentation Layer                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ Home   â”‚  â”‚ Audit  â”‚  â”‚ Alert  â”‚  â”‚ Profileâ”‚    â”‚   â”‚
â”‚  â”‚  â”‚ Page   â”‚  â”‚ Page   â”‚  â”‚ Page   â”‚  â”‚ Page   â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   Business Layer                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ Auth   â”‚  â”‚ Data   â”‚  â”‚ Alert  â”‚  â”‚ Sync   â”‚    â”‚   â”‚
â”‚  â”‚  â”‚Service â”‚  â”‚Service â”‚  â”‚Service â”‚  â”‚Service â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     Data Layer                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ HTTP   â”‚  â”‚ WebSoc â”‚  â”‚ Local  â”‚  â”‚ Cache  â”‚    â”‚   â”‚
â”‚  â”‚  â”‚Client  â”‚  â”‚ket     â”‚  â”‚Storage â”‚  â”‚Manager â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Backend Services                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   API    â”‚  â”‚  Auth    â”‚  â”‚  Push    â”‚  â”‚  WebSoc  â”‚   â”‚
â”‚  â”‚ Gateway  â”‚  â”‚ Service  â”‚  â”‚ Service  â”‚  â”‚  Server  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± ç§»åŠ¨ç«¯åŠŸèƒ½è®¾è®¡

### 1. é¦–é¡µDashboard

**åŠŸèƒ½æ¨¡å—**:
- **ç»Ÿè®¡å¡ç‰‡**
  - æ•°æ®èµ„äº§æ€»æ•°
  - ä»Šæ—¥å®¡è®¡æ—¥å¿—
  - å¾…å¤„ç†å‘Šè­¦
  - åˆè§„æ£€æŸ¥çŠ¶æ€

- **å¿«é€Ÿå…¥å£**
  - æ•°æ®åˆ†ç±»
  - å®¡è®¡æ—¥å¿—
  - å‘Šè­¦ç®¡ç†
  - åˆè§„æŠ¥å‘Š

- **è¶‹åŠ¿å›¾è¡¨**
  - æ•°æ®èµ„äº§è¶‹åŠ¿
  - å‘Šè­¦è¶‹åŠ¿
  - å®¡è®¡æ—¥å¿—è¶‹åŠ¿

**UIè®¾è®¡**:
```dart
// é¦–é¡µå¸ƒå±€
class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('BankShield'),
        actions: [
          IconButton(
            icon: Icon(Icons.notifications),
            onPressed: () => Navigator.pushNamed(context, '/alerts'),
          ),
        ],
      ),
      body: RefreshIndicator(
        onRefresh: _refreshData,
        child: ListView(
          children: [
            _buildStatisticsCards(),
            _buildQuickActions(),
            _buildTrendCharts(),
            _buildRecentActivities(),
          ],
        ),
      ),
      bottomNavigationBar: BottomNavigationBar(
        items: [
          BottomNavigationBarItem(icon: Icon(Icons.home), label: 'é¦–é¡µ'),
          BottomNavigationBarItem(icon: Icon(Icons.description), label: 'å®¡è®¡'),
          BottomNavigationBarItem(icon: Icon(Icons.warning), label: 'å‘Šè­¦'),
          BottomNavigationBarItem(icon: Icon(Icons.person), label: 'æˆ‘çš„'),
        ],
      ),
    );
  }
}
```

---

### 2. æ•°æ®èµ„äº§ç®¡ç†

**åŠŸèƒ½åˆ—è¡¨**:
- æ•°æ®èµ„äº§åˆ—è¡¨ï¼ˆåˆ†é¡µã€æœç´¢ã€ç­›é€‰ï¼‰
- æ•°æ®èµ„äº§è¯¦æƒ…
- æ•°æ®åˆ†ç±»æŸ¥çœ‹
- æ•æ„Ÿæ•°æ®æ ‡è¯†
- æ•°æ®è¡€ç¼˜æŸ¥çœ‹

**UIç»„ä»¶**:
```dart
// æ•°æ®èµ„äº§åˆ—è¡¨
class DataAssetListPage extends StatefulWidget {
  @override
  _DataAssetListPageState createState() => _DataAssetListPageState();
}

class _DataAssetListPageState extends State<DataAssetListPage> {
  List<DataAsset> assets = [];
  bool isLoading = false;
  
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('æ•°æ®èµ„äº§'),
        actions: [
          IconButton(
            icon: Icon(Icons.search),
            onPressed: _showSearchDialog,
          ),
          IconButton(
            icon: Icon(Icons.filter_list),
            onPressed: _showFilterDialog,
          ),
        ],
      ),
      body: isLoading
          ? Center(child: CircularProgressIndicator())
          : ListView.builder(
              itemCount: assets.length,
              itemBuilder: (context, index) {
                return DataAssetCard(asset: assets[index]);
              },
            ),
    );
  }
}
```

---

### 3. å®¡è®¡æ—¥å¿—æŸ¥çœ‹

**åŠŸèƒ½ç‰¹æ€§**:
- å®æ—¶å®¡è®¡æ—¥å¿—æµ
- æ—¥å¿—æœç´¢å’Œç­›é€‰
- æ—¥å¿—è¯¦æƒ…æŸ¥çœ‹
- æ—¥å¿—å¯¼å‡º
- æ—¶é—´çº¿å±•ç¤º

**å®ç°ç¤ºä¾‹**:
```dart
// å®¡è®¡æ—¥å¿—é¡µé¢
class AuditLogPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('å®¡è®¡æ—¥å¿—'),
        actions: [
          IconButton(
            icon: Icon(Icons.calendar_today),
            onPressed: _selectDateRange,
          ),
        ],
      ),
      body: StreamBuilder<List<AuditLog>>(
        stream: auditLogStream,
        builder: (context, snapshot) {
          if (snapshot.hasData) {
            return ListView.builder(
              itemCount: snapshot.data!.length,
              itemBuilder: (context, index) {
                return AuditLogItem(log: snapshot.data![index]);
              },
            );
          }
          return Center(child: CircularProgressIndicator());
        },
      ),
    );
  }
}
```

---

### 4. å‘Šè­¦ç®¡ç†

**åŠŸèƒ½æ¨¡å—**:
- å®æ—¶å‘Šè­¦æ¨é€
- å‘Šè­¦åˆ—è¡¨ï¼ˆæŒ‰çº§åˆ«åˆ†ç±»ï¼‰
- å‘Šè­¦è¯¦æƒ…
- å‘Šè­¦å¤„ç†ï¼ˆç¡®è®¤ã€å¿½ç•¥ã€è½¬å‘ï¼‰
- å‘Šè­¦ç»Ÿè®¡

**æ¨é€é€šçŸ¥**:
```dart
// Firebase Cloud Messagingé›†æˆ
class PushNotificationService {
  final FirebaseMessaging _fcm = FirebaseMessaging.instance;
  
  Future<void> initialize() async {
    // è¯·æ±‚é€šçŸ¥æƒé™
    await _fcm.requestPermission();
    
    // è·å–FCM Token
    String? token = await _fcm.getToken();
    print('FCM Token: $token');
    
    // ç›‘å¬å‰å°æ¶ˆæ¯
    FirebaseMessaging.onMessage.listen((RemoteMessage message) {
      _showNotification(message);
    });
    
    // ç›‘å¬åå°æ¶ˆæ¯ç‚¹å‡»
    FirebaseMessaging.onMessageOpenedApp.listen((RemoteMessage message) {
      _handleNotificationClick(message);
    });
  }
  
  void _showNotification(RemoteMessage message) {
    // æ˜¾ç¤ºæœ¬åœ°é€šçŸ¥
    LocalNotification.show(
      title: message.notification?.title ?? '',
      body: message.notification?.body ?? '',
      payload: message.data,
    );
  }
}
```

---

### 5. ç”¨æˆ·ä¸­å¿ƒ

**åŠŸèƒ½åˆ—è¡¨**:
- ä¸ªäººä¿¡æ¯
- è´¦å·è®¾ç½®
- å®‰å…¨è®¾ç½®ï¼ˆä¿®æ”¹å¯†ç ã€ç”Ÿç‰©è¯†åˆ«ï¼‰
- æ¶ˆæ¯é€šçŸ¥è®¾ç½®
- å…³äºåº”ç”¨
- é€€å‡ºç™»å½•

---

## ğŸ” ç§»åŠ¨ç«¯å®‰å…¨æœºåˆ¶

### 1. èº«ä»½è®¤è¯

**è®¤è¯æ–¹å¼**:
- **è´¦å·å¯†ç ç™»å½•**
- **ç”Ÿç‰©è¯†åˆ«ç™»å½•**ï¼ˆæŒ‡çº¹/Face IDï¼‰
- **åŒå› ç´ è®¤è¯**ï¼ˆOTPï¼‰
- **JWT Tokenç®¡ç†**

**å®ç°ç¤ºä¾‹**:
```dart
// ç”Ÿç‰©è¯†åˆ«è®¤è¯
class BiometricAuth {
  final LocalAuthentication auth = LocalAuthentication();
  
  Future<bool> authenticate() async {
    try {
      bool canCheckBiometrics = await auth.canCheckBiometrics;
      if (!canCheckBiometrics) return false;
      
      return await auth.authenticate(
        localizedReason: 'è¯·éªŒè¯èº«ä»½ä»¥ç™»å½•BankShield',
        options: const AuthenticationOptions(
          stickyAuth: true,
          biometricOnly: true,
        ),
      );
    } catch (e) {
      print('ç”Ÿç‰©è¯†åˆ«è®¤è¯å¤±è´¥: $e');
      return false;
    }
  }
}

// JWT Tokenç®¡ç†
class TokenManager {
  static const String _tokenKey = 'auth_token';
  static const String _refreshTokenKey = 'refresh_token';
  
  Future<void> saveToken(String token, String refreshToken) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setString(_tokenKey, token);
    await prefs.setString(_refreshTokenKey, refreshToken);
  }
  
  Future<String?> getToken() async {
    final prefs = await SharedPreferences.getInstance();
    return prefs.getString(_tokenKey);
  }
  
  Future<void> clearTokens() async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.remove(_tokenKey);
    await prefs.remove(_refreshTokenKey);
  }
}
```

---

### 2. æ•°æ®åŠ å¯†

**åŠ å¯†ç­–ç•¥**:
- **ä¼ è¾“åŠ å¯†** - HTTPS + TLS 1.3
- **æœ¬åœ°å­˜å‚¨åŠ å¯†** - AES-256åŠ å¯†
- **æ•æ„Ÿæ•°æ®åŠ å¯†** - å›½å¯†SM4ç®—æ³•
- **å¯†é’¥ç®¡ç†** - å®‰å…¨å¯†é’¥å­˜å‚¨

**å®ç°ç¤ºä¾‹**:
```dart
// æœ¬åœ°æ•°æ®åŠ å¯†
class EncryptionService {
  static const String _key = 'your-32-char-encryption-key-here';
  
  String encrypt(String plainText) {
    final key = encrypt.Key.fromUtf8(_key);
    final iv = encrypt.IV.fromLength(16);
    final encrypter = encrypt.Encrypter(encrypt.AES(key));
    
    return encrypter.encrypt(plainText, iv: iv).base64;
  }
  
  String decrypt(String encryptedText) {
    final key = encrypt.Key.fromUtf8(_key);
    final iv = encrypt.IV.fromLength(16);
    final encrypter = encrypt.Encrypter(encrypt.AES(key));
    
    return encrypter.decrypt64(encryptedText, iv: iv);
  }
}

// å®‰å…¨å­˜å‚¨
class SecureStorage {
  final FlutterSecureStorage _storage = FlutterSecureStorage();
  
  Future<void> write(String key, String value) async {
    await _storage.write(key: key, value: value);
  }
  
  Future<String?> read(String key) async {
    return await _storage.read(key: key);
  }
  
  Future<void> delete(String key) async {
    await _storage.delete(key: key);
  }
}
```

---

### 3. ç½‘ç»œå®‰å…¨

**å®‰å…¨æªæ–½**:
- **è¯ä¹¦å›ºå®š** - SSL Pinning
- **è¯·æ±‚ç­¾å** - HMACç­¾å
- **é˜²é‡æ”¾æ”»å‡»** - Nonce + Timestamp
- **APIé™æµ** - å®¢æˆ·ç«¯é™æµ

**å®ç°ç¤ºä¾‹**:
```dart
// SSL Pinning
class HttpClient {
  static Dio createDio() {
    final dio = Dio(BaseOptions(
      baseUrl: 'https://api.bankshield.com',
      connectTimeout: Duration(seconds: 30),
      receiveTimeout: Duration(seconds: 30),
    ));
    
    // æ·»åŠ æ‹¦æˆªå™¨
    dio.interceptors.add(AuthInterceptor());
    dio.interceptors.add(LogInterceptor());
    
    // SSL Pinning
    (dio.httpClientAdapter as DefaultHttpClientAdapter).onHttpClientCreate = 
        (client) {
      client.badCertificateCallback = 
          (X509Certificate cert, String host, int port) {
        // éªŒè¯è¯ä¹¦æŒ‡çº¹
        return cert.sha256.toString() == 'expected-cert-fingerprint';
      };
      return client;
    };
    
    return dio;
  }
}

// è¯·æ±‚ç­¾åæ‹¦æˆªå™¨
class SignatureInterceptor extends Interceptor {
  @override
  void onRequest(RequestOptions options, RequestInterceptorHandler handler) {
    final timestamp = DateTime.now().millisecondsSinceEpoch.toString();
    final nonce = Uuid().v4();
    
    // ç”Ÿæˆç­¾å
    final signature = _generateSignature(
      options.method,
      options.path,
      timestamp,
      nonce,
    );
    
    options.headers['X-Timestamp'] = timestamp;
    options.headers['X-Nonce'] = nonce;
    options.headers['X-Signature'] = signature;
    
    handler.next(options);
  }
  
  String _generateSignature(String method, String path, 
                           String timestamp, String nonce) {
    final data = '$method$path$timestamp$nonce';
    final key = utf8.encode('your-secret-key');
    final bytes = utf8.encode(data);
    final hmac = Hmac(sha256, key);
    final digest = hmac.convert(bytes);
    return digest.toString();
  }
}
```

---

### 4. åº”ç”¨å®‰å…¨

**å®‰å…¨ç‰¹æ€§**:
- **Root/è¶Šç‹±æ£€æµ‹**
- **è°ƒè¯•æ£€æµ‹**
- **æˆªå±é˜²æŠ¤**
- **åº”ç”¨é”**
- **æ•°æ®æ“¦é™¤**

**å®ç°ç¤ºä¾‹**:
```dart
// Rootæ£€æµ‹
class SecurityChecker {
  Future<bool> isDeviceSecure() async {
    // æ£€æµ‹Root/è¶Šç‹±
    bool isRooted = await RootChecker.isRooted();
    if (isRooted) {
      _showSecurityWarning('æ£€æµ‹åˆ°è®¾å¤‡å·²Rootï¼Œå­˜åœ¨å®‰å…¨é£é™©');
      return false;
    }
    
    // æ£€æµ‹è°ƒè¯•æ¨¡å¼
    bool isDebugging = await DebugChecker.isDebugging();
    if (isDebugging) {
      _showSecurityWarning('æ£€æµ‹åˆ°è°ƒè¯•æ¨¡å¼ï¼Œè¯·å…³é—­è°ƒè¯•');
      return false;
    }
    
    return true;
  }
}

// æˆªå±é˜²æŠ¤
class ScreenProtection {
  static void enableScreenProtection() {
    if (Platform.isAndroid) {
      // Android: è®¾ç½®FLAG_SECURE
      FlutterWindowManager.addFlags(FlutterWindowManager.FLAG_SECURE);
    }
    // iOS: åœ¨åå°æ—¶æ˜¾ç¤ºé®ç½©
  }
}

// åº”ç”¨é”
class AppLock {
  static const int _lockTimeout = 300; // 5åˆ†é’Ÿ
  DateTime? _lastActiveTime;
  
  void recordActivity() {
    _lastActiveTime = DateTime.now();
  }
  
  bool shouldLock() {
    if (_lastActiveTime == null) return false;
    
    final now = DateTime.now();
    final diff = now.difference(_lastActiveTime!).inSeconds;
    return diff > _lockTimeout;
  }
}
```

---

## ğŸ“Š çŠ¶æ€ç®¡ç†

### ProviderçŠ¶æ€ç®¡ç†

```dart
// å…¨å±€çŠ¶æ€ç®¡ç†
class AppState extends ChangeNotifier {
  User? _currentUser;
  List<DataAsset> _dataAssets = [];
  List<Alert> _alerts = [];
  bool _isLoading = false;
  
  User? get currentUser => _currentUser;
  List<DataAsset> get dataAssets => _dataAssets;
  List<Alert> get alerts => _alerts;
  bool get isLoading => _isLoading;
  
  Future<void> login(String username, String password) async {
    _isLoading = true;
    notifyListeners();
    
    try {
      final user = await AuthService.login(username, password);
      _currentUser = user;
      await _loadInitialData();
    } catch (e) {
      throw Exception('ç™»å½•å¤±è´¥: $e');
    } finally {
      _isLoading = false;
      notifyListeners();
    }
  }
  
  Future<void> _loadInitialData() async {
    await Future.wait([
      loadDataAssets(),
      loadAlerts(),
    ]);
  }
  
  Future<void> loadDataAssets() async {
    _dataAssets = await DataAssetService.getDataAssets();
    notifyListeners();
  }
  
  Future<void> loadAlerts() async {
    _alerts = await AlertService.getAlerts();
    notifyListeners();
  }
  
  void logout() {
    _currentUser = null;
    _dataAssets.clear();
    _alerts.clear();
    TokenManager().clearTokens();
    notifyListeners();
  }
}

// ä½¿ç”¨Provider
void main() {
  runApp(
    MultiProvider(
      providers: [
        ChangeNotifierProvider(create: (_) => AppState()),
        ChangeNotifierProvider(create: (_) => ThemeProvider()),
      ],
      child: MyApp(),
    ),
  );
}
```

---

## ğŸ”„ ç¦»çº¿æ”¯æŒ

### æœ¬åœ°æ•°æ®åº“

```dart
// SQLiteæœ¬åœ°æ•°æ®åº“
class DatabaseHelper {
  static final DatabaseHelper instance = DatabaseHelper._init();
  static Database? _database;
  
  DatabaseHelper._init();
  
  Future<Database> get database async {
    if (_database != null) return _database!;
    _database = await _initDB('bankshield.db');
    return _database!;
  }
  
  Future<Database> _initDB(String filePath) async {
    final dbPath = await getDatabasesPath();
    final path = join(dbPath, filePath);
    
    return await openDatabase(
      path,
      version: 1,
      onCreate: _createDB,
    );
  }
  
  Future _createDB(Database db, int version) async {
    await db.execute('''
      CREATE TABLE data_assets (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        asset_name TEXT NOT NULL,
        asset_type TEXT NOT NULL,
        classification_level TEXT,
        created_at TEXT,
        synced INTEGER DEFAULT 0
      )
    ''');
    
    await db.execute('''
      CREATE TABLE audit_logs (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        operation TEXT NOT NULL,
        user_id INTEGER,
        timestamp TEXT,
        details TEXT,
        synced INTEGER DEFAULT 0
      )
    ''');
  }
  
  // CRUDæ“ä½œ
  Future<int> insertDataAsset(DataAsset asset) async {
    final db = await database;
    return await db.insert('data_assets', asset.toMap());
  }
  
  Future<List<DataAsset>> getDataAssets() async {
    final db = await database;
    final result = await db.query('data_assets');
    return result.map((json) => DataAsset.fromMap(json)).toList();
  }
}

// æ•°æ®åŒæ­¥æœåŠ¡
class SyncService {
  Future<void> syncData() async {
    // ä¸Šä¼ æœªåŒæ­¥çš„æ•°æ®
    await _uploadPendingData();
    
    // ä¸‹è½½æœ€æ–°æ•°æ®
    await _downloadLatestData();
  }
  
  Future<void> _uploadPendingData() async {
    final db = DatabaseHelper.instance;
    final pendingAssets = await db.getPendingAssets();
    
    for (var asset in pendingAssets) {
      try {
        await ApiService.uploadAsset(asset);
        await db.markAsSynced(asset.id);
      } catch (e) {
        print('åŒæ­¥å¤±è´¥: $e');
      }
    }
  }
  
  Future<void> _downloadLatestData() async {
    final latestAssets = await ApiService.getLatestAssets();
    final db = DatabaseHelper.instance;
    
    for (var asset in latestAssets) {
      await db.insertOrUpdateAsset(asset);
    }
  }
}
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### 1. å›¾ç‰‡ä¼˜åŒ–

```dart
// å›¾ç‰‡ç¼“å­˜
class ImageCacheManager {
  static CachedNetworkImage loadImage(String url) {
    return CachedNetworkImage(
      imageUrl: url,
      placeholder: (context, url) => CircularProgressIndicator(),
      errorWidget: (context, url, error) => Icon(Icons.error),
      cacheManager: DefaultCacheManager(),
      maxHeightDiskCache: 1000,
      maxWidthDiskCache: 1000,
    );
  }
}
```

### 2. åˆ—è¡¨ä¼˜åŒ–

```dart
// è™šæ‹Ÿæ»šåŠ¨åˆ—è¡¨
class OptimizedListView extends StatelessWidget {
  final List<DataAsset> items;
  
  @override
  Widget build(BuildContext context) {
    return ListView.builder(
      itemCount: items.length,
      itemExtent: 80.0, // å›ºå®šé«˜åº¦æå‡æ€§èƒ½
      cacheExtent: 500.0, // é¢„åŠ è½½èŒƒå›´
      itemBuilder: (context, index) {
        return DataAssetItem(asset: items[index]);
      },
    );
  }
}
```

### 3. ç½‘ç»œä¼˜åŒ–

```dart
// è¯·æ±‚ç¼“å­˜
class CacheInterceptor extends Interceptor {
  final Map<String, CachedResponse> _cache = {};
  
  @override
  void onRequest(RequestOptions options, RequestInterceptorHandler handler) {
    if (options.method == 'GET') {
      final cacheKey = _getCacheKey(options);
      final cached = _cache[cacheKey];
      
      if (cached != null && !cached.isExpired()) {
        return handler.resolve(cached.response);
      }
    }
    handler.next(options);
  }
  
  @override
  void onResponse(Response response, ResponseInterceptorHandler handler) {
    if (response.requestOptions.method == 'GET') {
      final cacheKey = _getCacheKey(response.requestOptions);
      _cache[cacheKey] = CachedResponse(response);
    }
    handler.next(response);
  }
}
```

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### 1. å•å…ƒæµ‹è¯•

```dart
// å•å…ƒæµ‹è¯•ç¤ºä¾‹
void main() {
  group('AuthService Tests', () {
    test('Login with valid credentials', () async {
      final authService = AuthService();
      final user = await authService.login('admin', 'password');
      
      expect(user, isNotNull);
      expect(user.username, equals('admin'));
    });
    
    test('Login with invalid credentials', () async {
      final authService = AuthService();
      
      expect(
        () => authService.login('admin', 'wrong'),
        throwsException,
      );
    });
  });
}
```

### 2. Widgetæµ‹è¯•

```dart
// Widgetæµ‹è¯•ç¤ºä¾‹
void main() {
  testWidgets('HomePage displays statistics', (WidgetTester tester) async {
    await tester.pumpWidget(
      MaterialApp(
        home: HomePage(),
      ),
    );
    
    expect(find.text('æ•°æ®èµ„äº§'), findsOneWidget);
    expect(find.text('å®¡è®¡æ—¥å¿—'), findsOneWidget);
    expect(find.text('å‘Šè­¦'), findsOneWidget);
  });
}
```

### 3. é›†æˆæµ‹è¯•

```dart
// é›†æˆæµ‹è¯•ç¤ºä¾‹
void main() {
  IntegrationTestWidgetsFlutterBinding.ensureInitialized();
  
  testWidgets('Complete login flow', (WidgetTester tester) async {
    await tester.pumpWidget(MyApp());
    
    // è¾“å…¥ç”¨æˆ·å
    await tester.enterText(find.byKey(Key('username')), 'admin');
    
    // è¾“å…¥å¯†ç 
    await tester.enterText(find.byKey(Key('password')), 'password');
    
    // ç‚¹å‡»ç™»å½•æŒ‰é’®
    await tester.tap(find.byKey(Key('login_button')));
    await tester.pumpAndSettle();
    
    // éªŒè¯è·³è½¬åˆ°é¦–é¡µ
    expect(find.text('é¦–é¡µ'), findsOneWidget);
  });
}
```

---

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
bankshield_mobile/
â”œâ”€â”€ android/                 # AndroidåŸç”Ÿä»£ç 
â”œâ”€â”€ ios/                     # iOSåŸç”Ÿä»£ç 
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart           # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ app.dart            # åº”ç”¨é…ç½®
â”‚   â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ api_config.dart
â”‚   â”‚   â”œâ”€â”€ theme_config.dart
â”‚   â”‚   â””â”€â”€ constants.dart
â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ user.dart
â”‚   â”‚   â”œâ”€â”€ data_asset.dart
â”‚   â”‚   â”œâ”€â”€ audit_log.dart
â”‚   â”‚   â””â”€â”€ alert.dart
â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ auth_service.dart
â”‚   â”‚   â”œâ”€â”€ api_service.dart
â”‚   â”‚   â”œâ”€â”€ storage_service.dart
â”‚   â”‚   â””â”€â”€ sync_service.dart
â”‚   â”œâ”€â”€ providers/          # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ app_state.dart
â”‚   â”‚   â”œâ”€â”€ theme_provider.dart
â”‚   â”‚   â””â”€â”€ auth_provider.dart
â”‚   â”œâ”€â”€ pages/              # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ data_asset/
â”‚   â”‚   â”œâ”€â”€ audit/
â”‚   â”‚   â”œâ”€â”€ alert/
â”‚   â”‚   â””â”€â”€ profile/
â”‚   â”œâ”€â”€ widgets/            # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”œâ”€â”€ charts/
â”‚   â”‚   â””â”€â”€ cards/
â”‚   â”œâ”€â”€ utils/              # å·¥å…·ç±»
â”‚   â”‚   â”œâ”€â”€ encryption_util.dart
â”‚   â”‚   â”œâ”€â”€ date_util.dart
â”‚   â”‚   â””â”€â”€ validator.dart
â”‚   â””â”€â”€ routes/             # è·¯ç”±é…ç½®
â”‚       â””â”€â”€ app_routes.dart
â”œâ”€â”€ test/                   # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ widget/
â”‚   â””â”€â”€ integration/
â”œâ”€â”€ assets/                 # èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ icons/
â”‚   â””â”€â”€ fonts/
â”œâ”€â”€ pubspec.yaml            # ä¾èµ–é…ç½®
â””â”€â”€ README.md
```

---

## ğŸš€ éƒ¨ç½²å‘å¸ƒ

### 1. Androidæ‰“åŒ…

```bash
# ç”Ÿæˆç­¾åå¯†é’¥
keytool -genkey -v -keystore bankshield.jks -keyalg RSA -keysize 2048 -validity 10000 -alias bankshield

# é…ç½®ç­¾åï¼ˆandroid/key.propertiesï¼‰
storePassword=your_store_password
keyPassword=your_key_password
keyAlias=bankshield
storeFile=../bankshield.jks

# æ„å»ºAPK
flutter build apk --release

# æ„å»ºApp Bundle
flutter build appbundle --release
```

### 2. iOSæ‰“åŒ…

```bash
# é…ç½®è¯ä¹¦å’Œæè¿°æ–‡ä»¶
# åœ¨Xcodeä¸­é…ç½®Signing & Capabilities

# æ„å»ºIPA
flutter build ios --release

# ä½¿ç”¨Xcode Archive
open ios/Runner.xcworkspace
# Product -> Archive -> Distribute App
```

### 3. åº”ç”¨å•†åº—å‘å¸ƒ

**Google Play**:
1. åˆ›å»ºåº”ç”¨
2. å¡«å†™åº”ç”¨ä¿¡æ¯
3. ä¸Šä¼ APK/AAB
4. è®¾ç½®å®šä»·å’Œåˆ†å‘
5. æäº¤å®¡æ ¸

**App Store**:
1. åœ¨App Store Connectåˆ›å»ºåº”ç”¨
2. å¡«å†™åº”ç”¨å…ƒæ•°æ®
3. ä¸Šä¼ IPA
4. æäº¤å®¡æ ¸

---

## ğŸ“ å¼€å‘è§„èŒƒ

### 1. ä»£ç è§„èŒƒ

```dart
// å‘½åè§„èŒƒ
class UserProfile {}           // ç±»åï¼šå¤§é©¼å³°
void getUserData() {}          // æ–¹æ³•åï¼šå°é©¼å³°
const String apiUrl = '';      // å¸¸é‡ï¼šå°é©¼å³°
final int maxRetry = 3;        // å˜é‡ï¼šå°é©¼å³°

// æ³¨é‡Šè§„èŒƒ
/// è·å–ç”¨æˆ·æ•°æ®
/// 
/// [userId] ç”¨æˆ·ID
/// Returns: ç”¨æˆ·å¯¹è±¡
Future<User> getUserData(String userId) async {
  // å®ç°é€»è¾‘
}

// é”™è¯¯å¤„ç†
try {
  await apiService.getData();
} on NetworkException catch (e) {
  print('ç½‘ç»œé”™è¯¯: $e');
} on AuthException catch (e) {
  print('è®¤è¯é”™è¯¯: $e');
} catch (e) {
  print('æœªçŸ¥é”™è¯¯: $e');
}
```

### 2. Gitè§„èŒƒ

```bash
# åˆ†æ”¯å‘½å
feature/user-authentication    # æ–°åŠŸèƒ½
bugfix/login-error            # Bugä¿®å¤
hotfix/security-patch         # ç´§æ€¥ä¿®å¤

# æäº¤ä¿¡æ¯
feat: æ·»åŠ ç”Ÿç‰©è¯†åˆ«ç™»å½•åŠŸèƒ½
fix: ä¿®å¤æ•°æ®åŒæ­¥å¤±è´¥é—®é¢˜
docs: æ›´æ–°APIæ–‡æ¡£
style: ä»£ç æ ¼å¼åŒ–
refactor: é‡æ„æ•°æ®åŠ å¯†æ¨¡å—
test: æ·»åŠ å•å…ƒæµ‹è¯•
chore: æ›´æ–°ä¾èµ–ç‰ˆæœ¬
```

---

## ğŸ‰ æ€»ç»“

### å·²å®Œæˆ âœ…

1. âœ… ç§»åŠ¨ç«¯æ¶æ„è®¾è®¡
2. âœ… æŠ€æœ¯æ ˆé€‰å‹ï¼ˆFlutterï¼‰
3. âœ… æ ¸å¿ƒåŠŸèƒ½è®¾è®¡
4. âœ… å®‰å…¨æœºåˆ¶è®¾è®¡
5. âœ… çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ
6. âœ… ç¦»çº¿æ”¯æŒæ–¹æ¡ˆ
7. âœ… æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
8. âœ… æµ‹è¯•ç­–ç•¥
9. âœ… éƒ¨ç½²å‘å¸ƒæµç¨‹
10. âœ… å¼€å‘è§„èŒƒ

### æ ¸å¿ƒä¼˜åŠ¿

- ğŸ¯ **è·¨å¹³å°** - ä¸€å¥—ä»£ç æ”¯æŒiOSå’ŒAndroid
- âš¡ **é«˜æ€§èƒ½** - æ¥è¿‘åŸç”Ÿçš„æ€§èƒ½è¡¨ç°
- ğŸ”’ **é«˜å®‰å…¨** - å®Œå–„çš„å®‰å…¨é˜²æŠ¤æœºåˆ¶
- ğŸ“´ **ç¦»çº¿å¯ç”¨** - å…³é”®åŠŸèƒ½ç¦»çº¿æ”¯æŒ
- ğŸ”„ **å®æ—¶åŒæ­¥** - æ•°æ®è‡ªåŠ¨åŒæ­¥
- ğŸ’¡ **æ˜“ç»´æŠ¤** - æ¸…æ™°çš„ä»£ç ç»“æ„

### å¼€å‘å‘¨æœŸ

| é˜¶æ®µ | å·¥ä½œå†…å®¹ | é¢„è®¡æ—¶é—´ |
|-----|---------|---------|
| **éœ€æ±‚åˆ†æ** | åŠŸèƒ½æ¢³ç†ã€åŸå‹è®¾è®¡ | 1å‘¨ |
| **UIè®¾è®¡** | ç•Œé¢è®¾è®¡ã€äº¤äº’è®¾è®¡ | 2å‘¨ |
| **å¼€å‘å®ç°** | åŠŸèƒ½å¼€å‘ã€æ¥å£å¯¹æ¥ | 6å‘¨ |
| **æµ‹è¯•ä¼˜åŒ–** | åŠŸèƒ½æµ‹è¯•ã€æ€§èƒ½ä¼˜åŒ– | 2å‘¨ |
| **å‘å¸ƒä¸Šçº¿** | æ‰“åŒ…å‘å¸ƒã€åº”ç”¨å•†åº—å®¡æ ¸ | 1å‘¨ |
| **æ€»è®¡** | | **12å‘¨** |

---

**æ–‡æ¡£ç”Ÿæˆæ—¶é—´**: 2026-01-07 17:30  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**çŠ¶æ€**: å®Œæ•´æ–¹æ¡ˆå·²å®Œæˆ

---

**Â© 2026 BankShield. All Rights Reserved.**
