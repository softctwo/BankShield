# 国密算法配置
bankshield:
  crypto:
    national:
      # 是否启用国密算法
      enabled: true
      
      # 是否强制使用国密算法（禁用国际算法）
      force-national-crypto: true
      
      # 密码编码器类型（SM3或BCrypt）
      password-encoder-type: SM3
      
      # SM4默认加密模式（ECB/CBC/CTR）
      sm4-default-mode: CBC
      
      # SM4默认密钥（生产环境应该使用安全存储）
      sm4-default-key: ${SM4_DEFAULT_KEY:}
      
      # SM4默认IV（生产环境应该使用随机值）
      sm4-default-iv: ${SM4_DEFAULT_IV:}
      
      # SM2密钥对存储路径
      sm2-key-pair-path: ${SM2_KEY_PAIR_PATH:}
      
      # SSL配置
      ssl:
        # 是否启用国密SSL
        enabled: true
        
        # SSL协议版本（TLCP为国密SSL协议）
        protocol: TLCP
        
        # 国密SSL密钥库路径
        key-store-path: ${NATIONAL_SSL_KEY_STORE:classpath:sm2-server.p12}
        
        # 国密SSL密钥库密码
        key-store-password: ${NATIONAL_SSL_KEY_STORE_PASSWORD:}
        
        # 国密SSL密钥库类型
        key-store-type: PKCS12
        
        # 国密SSL密钥别名
        key-alias: sm2-server
        
        # 国密SSL加密套件
        ciphers:
          - ECC-SM2-WITH-SM4-SM3
          - ECDHE-SM2-WITH-SM4-SM3

# Spring Boot SSL配置
server:
  ssl:
    # 启用SSL
    enabled: ${bankshield.crypto.national.ssl.enabled:false}
    
    # 协议（国密SSL使用TLCP）
    protocol: ${bankshield.crypto.national.ssl.protocol:TLSv1.2}
    
    # 密钥库路径
    key-store: ${bankshield.crypto.national.ssl.key-store-path}
    
    # 密钥库密码
    key-store-password: ${bankshield.crypto.national.ssl.key-store-password}
    
    # 密钥库类型
    key-store-type: ${bankshield.crypto.national.ssl.key-store-type}
    
    # 密钥别名
    key-alias: ${bankshield.crypto.national.ssl.key-alias}
    
    # 启用的加密套件
    enabled-ciphers: ${bankshield.crypto.national.ssl.ciphers}

# 日志配置
logging:
  level:
    com.bankshield.common.crypto: DEBUG